{"version":3,"sources":["redux/action-types.js","api/ajax.js","api/login.js","utils/localStorage.js","redux/actions.js","assets/img/logo.png","pages/Login/index.jsx","config/menuList.js","components/LeftNav/index.jsx","utils/date.js","components/Header/index.jsx","pages/Home/line/index.jsx","pages/Home/bar/index.jsx","pages/Home/index.jsx","api/goods.js","utils/constant.js","pages/Goods/Category/AddModal/index.jsx","pages/Goods/Category/UpdateModal/index.jsx","pages/Goods/Category/index.jsx","pages/Goods/Product/Home/index.jsx","pages/Goods/Product/Detail/index.jsx","components/UploadImg/index.jsx","components/RichTextEditor/index.jsx","pages/Goods/Product/AddUpdate/index.jsx","pages/Goods/Product/index.jsx","api/user.js","pages/User/AddUpdateModal/index.jsx","pages/User/index.jsx","api/role.js","pages/Role/AddModal/index.jsx","pages/Role/AuthModal/index.jsx","pages/Role/index.jsx","pages/Charts/Bar/index.jsx","pages/Charts/Pie/index.jsx","pages/Charts/Line/index.jsx","pages/Order/index.jsx","pages/NotFound/index.jsx","pages/Admin/index.jsx","App.jsx","redux/reducer.js","redux/store.js","index.js"],"names":["SET_HEAD_TITLE","RECEIVE_USER","SHOW_ERROR_MSG","RESET_USER","service","axios","create","baseURL","process","timeout","ajax","url","params","type","get","post","interceptors","response","use","data","status","message","error","msg","Promise","reject","login","USER_KEY","setHeadTitle","headTitle","receiveUser","user","logout","mes","window","localStorage","removeItem","success","Login","initialValues","username","password","handleFinish","props","validateUserName","required","whitespace","min","max","pattern","validatePassword","validator","_","value","trim","length","test","resolve","this","_id","to","className","src","logo","alt","errorMsg","onFinish","Item","name","rules","prefix","UserOutlined","placeholder","autoComplete","LockOutlined","htmlType","block","Component","connect","state","dispatch","a","userLogin","setItem","JSON","stringify","menuList","title","key","icon","HomeOutlined","isPublic","AppstoreOutlined","children","BarsOutlined","ToolOutlined","SafetyOutlined","AreaChartOutlined","BarChartOutlined","LineChartOutlined","PieChartOutlined","WindowsOutlined","SubMenu","LeftNav","hasAuth","item","menus","role","indexOf","some","createMenuList","menu","pathname","location","reduce","total","defaultOpenKeys","push","onClick","mode","theme","selectedKeys","withRouter","formatDate","date","Y","Date","getFullYear","M","getMonth","D","getDate","H","getHours","m","getMinutes","S","getSeconds","padLeftZero","str","substr","Header","timer","currentTime","now","getTime","setInterval","setState","confirm","okText","cancelText","onOk","clearInterval","href","target","rel","GithubFilled","Line","dv","DataSet","createView","source","month","b","c","transform","fields","style","float","width","height","scale","range","forceFit","label","formatter","val","crosshairs","position","size","color","shape","stroke","lineWidth","Bar","marginLeft","year","sales","tickInterval","dateFormat","RangePicker","Home","isVisited","handleChange","extra","QuestionCircleOutlined","headStyle","suffix","fontWeight","valueStyle","fontSize","ArrowDownOutlined","ArrowUpOutlined","defaultValue","moment","format","bodyStyle","padding","ReloadOutlined","getCategoryList","addCategory","updateCategory","getProductList","getProductListBySearch","setProductStatus","getCategoryInfo","addProduct","updateProduct","BASE_IMG_URL","Option","AddModal","formRef","React","createRef","setSelectOption","categorys","map","validateParentId","validateCategoryName","cancelModal","current","resetFields","validateFields","getCategory","parentId","visible","categoryName","onCancel","destroyOnClose","layout","ref","allowClear","showSearch","optionFilterProp","UpdateModal","category","categoryId","Column","Category","subCategorys","showStatus","parentName","loading","getSubCategory","showCategorys","showModal","n","showUpdateModal","isParentId","PlusOutlined","ArrowRightOutlined","margin","dataSource","rowKey","bordered","pagination","defaultPageSize","showQuickJumper","dataIndex","render","currentPage","productList","searchType","searchName","pageNum","pageSize","list","productId","tableStatusRender","checkedChildren","unCheckedChildren","checked","onChange","tableHandleRender","product","history","event","price","Detail","parentCategoryName","childCategoryName","getCategoryName","pCategoryId","all","parent","child","desc","detail","imgs","ArrowLeftOutlined","marginRight","cursor","goBack","dangerouslySetInnerHTML","__html","UploadImg","previewVisible","previewImage","previewTitle","fileList","getImgs","handlePreview","thumbUrl","handleCancel","file","index","uid","uploadButton","marginTop","action","accept","listType","onPreview","footer","RichTextEditor","editorState","EditorState","createEmpty","onEditorStateChange","getDetail","draftToHtml","convertToRaw","getCurrentContent","uploadCallback","xhr","XMLHttpRequest","open","FormData","append","send","addEventListener","parse","responseText","link","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","createWithContent","editorStyle","border","minHeight","paddingLeft","toolbar","image","present","mandatory","TextArea","AddUpdate","isUpdate","imgRef","editorRef","options","getCategorys","initOptions","setCategorys","isLeaf","childOptions","find","validatorPrice","loadData","option","submit","categoryIds","cloneCategoryIds","unshift","reqProduct","labelCol","span","wrapperCol","autoSize","minRows","maxRows","addonAfter","Product","path","exact","component","getUserList","delUser","addUser","updateUser","AddUpdateModal","isModalVisible","show","handleOk","userId","role_id","roles","preserve","User","roleNames","addUpdateModalRef","users","initRoleNames","showAddUpdateModal","wrappedComponentRef","getRoleList","addRole","addFormRef","controlState","isShowAdd","AuthModal","checkedKeys","treeData","updateRole","oldRole","auth_time","auth_name","getTreeNodes","pre","treeNode","isShowAuth","disabled","checkable","defaultExpandAll","onCheck","Role","attr","rowSelection","selectedRowKeys","onSelect","onRow","stores","load","getOption","text","tooltip","legend","xAxis","yAxis","series","update","Pie","subtext","x","trigger","orient","left","radius","center","itemStyle","emphasis","shadowBlur","shadowOffsetX","shadowColor","getOption2","backgroundColor","top","textStyle","visualMap","inRange","colorLightness","sort","roseType","normal","labelLine","lineStyle","smooth","length2","animationType","animationEasing","animationDelay","Math","random","Order","NotFound","goHome","replace","Footer","Sider","Content","Admin","from","App","initUser","getItem","combineReducers","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","store","document","getElementById"],"mappings":"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","file":"static/js/main.66907924.chunk.js","sourcesContent":["export const SET_HEAD_TITLE = 'set_head_title'\r\nexport const RECEIVE_USER = 'receive_user'\r\nexport const SHOW_ERROR_MSG = 'show_error_msg'\r\nexport const RESET_USER = 'reset_user'\r\n","import axios from 'axios'\r\nimport { message } from 'antd'\r\n\r\n// 创建axiso实例\r\nconst service = axios.create({\r\n  baseURL: process.env.REACT_APP_BASE,\r\n  timeout: 500000\r\n})\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(\r\n  response => {\r\n    const { data } = response\r\n    if (data.status !== 0) message.error(data.msg)\r\n    return data\r\n  },\r\n  error => {\r\n    message.error('请求出错了：' + error.message)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// ajax请求封装\r\nexport default function ajax (url, params = {}, type = 'GET') {\r\n  return type === 'GET'\r\n    ? service.get(url, { params })\r\n    : service.post(url, params)\r\n}\r\n","import ajax from './ajax'\r\n\r\n// 用户登录\r\nexport const login = params => ajax('/login', params, 'POST')\r\n","const USER_KEY = 'user_key'\r\n\r\n// 保存用户信息\r\nexport const saveUser = user => {\r\n  window.localStorage.setItem(USER_KEY, JSON.stringify(user))\r\n}\r\n\r\n// 读取用户信息\r\nexport const getUser = _ => JSON.parse(window.localStorage.getItem(USER_KEY)) || {}\r\n\r\n// 删除用户用户信息\r\nexport const removeUser = _ => window.localStorage.removeItem(USER_KEY)\r\n","import { message } from 'antd'\r\nimport { SET_HEAD_TITLE, RECEIVE_USER, SHOW_ERROR_MSG, RESET_USER } from './action-types'\r\nimport { login as userLogin } from '@api/login'\r\nimport { saveUser, removeUser } from '@utils/localStorage'\r\n\r\n// 设置头部标题的action\r\nexport const setHeadTitle = headTitle => ({ type: SET_HEAD_TITLE, data: headTitle })\r\n\r\n// 接收用户的action\r\nexport const receiveUser = user => ({ type: RECEIVE_USER, user })\r\n\r\n// 显示错误信息的action\r\nexport const showErrorMsg = errorMsg => ({ type: SHOW_ERROR_MSG, errorMsg })\r\n\r\n// 退出登录的action\r\nexport const logout = mes => {\r\n  removeUser()\r\n  mes && message.success(mes)\r\n  return { type: RESET_USER }\r\n}\r\n\r\n// 登录的action\r\nexport const login = params => {\r\n  return async dispatch => {\r\n    const { status, data, msg } = await userLogin(params)\r\n    if(status !== 0) return dispatch(showErrorMsg(msg))\r\n    message.success('登录成功')\r\n    saveUser(data)\r\n    dispatch(receiveUser(data))\r\n  }\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Form, Input, Button } from 'antd'\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\nimport { connect } from 'react-redux'\r\nimport { login } from '@redux/actions'\r\n\r\nimport './less/login.less'\r\nimport logo from '@assets/img/logo.png'\r\n\r\nclass Login extends Component {\r\n  // 表单默认值\r\n  initialValues = {\r\n    username: 'admin',\r\n    password: 'admin'\r\n  }\r\n\r\n  // 验证通过提交表单\r\n  handleFinish = params => this.props.login(params)\r\n\r\n  // 用户名验证规则\r\n  validateUserName = [\r\n    { required: true, whitespace: true, message: '用户名必须输入' },\r\n    { min: 4, message: '用户名至少4位' },\r\n    { max: 12, message: '用户名最多12位' },\r\n    { pattern: /^\\w+$/, message: '用户名必须是英文、数字或下划线组成' }\r\n  ]\r\n\r\n  // 密码自定义验证规则\r\n  validatePassword = [\r\n    {\r\n      validator (_, value = '') {\r\n        const reject = value => Promise.reject(value)\r\n        try {\r\n          value = value.trim()\r\n          const { length } = value\r\n          if (!value) return reject('密码必须输入')\r\n          if (length < 4) return reject('密码长度不能小于4位')\r\n          if (length > 12) return reject('密码长度不能大于12位')\r\n          if (!/^\\w+$/.test(value))\r\n            return reject('密码必须是英文、数字或下划线组成')\r\n          return Promise.resolve()\r\n        } catch (error) {\r\n          return reject('验证失败')\r\n        }\r\n      }\r\n    }\r\n  ]\r\n\r\n  render () {\r\n    const { user } = this.props\r\n    // 如果用户登录，直接重定向首页\r\n    if (user && user._id) return <Redirect to='/home' />\r\n    const {\r\n      handleFinish,\r\n      validateUserName,\r\n      validatePassword,\r\n      initialValues\r\n    } = this\r\n    return (\r\n      <div className='login'>\r\n        <header className='login-header'>\r\n          <img src={logo} alt='logo' />\r\n          <h1>React项目: 后台管理系统</h1>\r\n        </header>\r\n        <section className='login-content'>\r\n          <div className={user.errorMsg ? 'error-msg show' : 'error-msg'}>{user.errorMsg}</div>\r\n          <h2>用户登录</h2>\r\n          <Form\r\n            className='login-form'\r\n            onFinish={handleFinish}\r\n            initialValues={initialValues}\r\n          >\r\n            <Form.Item name='username' rules={validateUserName}>\r\n              <Input\r\n                prefix={<UserOutlined className='login-icon' />}\r\n                placeholder='用户名'\r\n                autoComplete='off'\r\n              />\r\n            </Form.Item>\r\n            <Form.Item name='password' rules={validatePassword}>\r\n              <Input\r\n                prefix={<LockOutlined className='login-icon' />}\r\n                type='password'\r\n                placeholder='密码'\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button type='primary' htmlType='submit' block>\r\n                登录\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({ user: state.user }),\r\n  { login }\r\n)(Login)\r\n","import {\r\n  HomeOutlined,\r\n  AppstoreOutlined,\r\n  BarsOutlined,\r\n  ToolOutlined,\r\n  UserOutlined,\r\n  SafetyOutlined,\r\n  AreaChartOutlined,\r\n  BarChartOutlined,\r\n  LineChartOutlined,\r\n  PieChartOutlined,\r\n  WindowsOutlined\r\n} from '@ant-design/icons'\r\n\r\nconst menuList = [\r\n  {\r\n    title: '首页', // 菜单标题名称\r\n    key: '/home', // 对应的path\r\n    icon: <HomeOutlined />, // 图标名称\r\n    isPublic: true // 公开的\r\n  },\r\n  {\r\n    title: '商品',\r\n    key: '/goods',\r\n    icon: <AppstoreOutlined />,\r\n    // 子菜单列表\r\n    children: [\r\n      {\r\n        title: '品类管理',\r\n        key: '/goods/category',\r\n        icon: <BarsOutlined />\r\n      },\r\n      {\r\n        title: '商品管理',\r\n        key: '/goods/product',\r\n        icon: <ToolOutlined />\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: '用户管理',\r\n    key: '/user',\r\n    icon: <UserOutlined />\r\n  },\r\n  {\r\n    title: '角色管理',\r\n    key: '/role',\r\n    icon: <SafetyOutlined />\r\n  },\r\n  {\r\n    title: '图形图表',\r\n    key: '/charts',\r\n    icon: <AreaChartOutlined />,\r\n    children: [\r\n      {\r\n        title: '柱形图',\r\n        key: '/charts/bar',\r\n        icon: <BarChartOutlined />\r\n      },\r\n      {\r\n        title: '折线图',\r\n        key: '/charts/line',\r\n        icon: <LineChartOutlined />\r\n      },\r\n      {\r\n        title: '饼图',\r\n        key: '/charts/pie',\r\n        icon: <PieChartOutlined />\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: '订单管理',\r\n    key: '/order',\r\n    icon: <WindowsOutlined />\r\n  }\r\n]\r\n\r\nexport default menuList\r\n","import React, { Component } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { Menu } from 'antd'\r\nimport { connect } from 'react-redux'\r\n\r\nimport './less/left_nav.less'\r\nimport logo from '@assets/img/logo.png'\r\n\r\nimport menuList from '@config/menuList'\r\nimport { setHeadTitle } from '@redux/actions'\r\n\r\nconst { SubMenu } = Menu\r\n\r\nclass LeftNav extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    // 默认展开的 SubMenu 菜单项 key 数组\r\n    this.defaultOpenKeys = []\r\n\r\n    // 获取菜单结构\r\n    this.menuList = this.createMenuList(menuList)\r\n  }\r\n  // 判断权限\r\n  hasAuth = item => {\r\n    const { key, isPublic } = item\r\n    const { role: { menus }, username } = this.props.user\r\n    if (username === 'admin' || isPublic || ~menus.indexOf(key)) {\r\n      return true\r\n    } else if (item.children) {\r\n      return !!item.children.some(item => ~menus.indexOf(item.key))\r\n    }\r\n    return false\r\n  }\r\n  // 动态创建菜单\r\n  createMenuList = menu => {\r\n    // 获取当前路径\r\n    const { location: { pathname }, setHeadTitle } = this.props\r\n    return menu.reduce((total, item) => {\r\n      if (!this.hasAuth(item)) return total\r\n      const { title, key, icon, children } = item\r\n      if (children) {\r\n        // 获取需要展开的 SubMenu 菜单项 key 数组\r\n        const isOpenKey = children.some(item => !pathname.indexOf(item.key))\r\n        isOpenKey && (this.defaultOpenKeys = [key])\r\n        total.push((\r\n          <SubMenu key={key} icon={icon} title={title}>\r\n            {this.createMenuList(children)}\r\n          </SubMenu>\r\n        ))\r\n      } else {\r\n        if(item.key === pathname || !pathname.indexOf(item.key)) setHeadTitle(item.title)\r\n        total.push((\r\n          <Menu.Item key={key} icon={icon} onClick={_ => setHeadTitle(item.title)}>\r\n            <Link to={key}>{title}</Link>\r\n          </Menu.Item>\r\n        ))\r\n      }\r\n      return total\r\n    }, [])\r\n  }\r\n  render () {\r\n    const { defaultOpenKeys, menuList } = this\r\n\r\n    // 获取当前路径\r\n    let { pathname } = this.props.location\r\n    if (!pathname.indexOf('/goods/product')) pathname = '/goods/product'\r\n\r\n    // 获取需要展开的 SubMenu 菜单项 key 数组\r\n    // const defaultOpenKeys = /^(\\/.+)\\/.+$/.test(pathname) ? [RegExp.$1] : []\r\n    return (\r\n      <div className='left-nav'>\r\n        <Link to='/' className='left-nav-header'>\r\n          <img src={logo} alt='logo' />\r\n          <h1>谷粒后台</h1>\r\n        </Link>\r\n        <Menu\r\n          mode='inline'\r\n          theme='dark'\r\n          selectedKeys={[pathname]}\r\n          defaultOpenKeys={defaultOpenKeys}\r\n        >\r\n          {menuList}\r\n        </Menu>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({ user: state.user }),\r\n  { setHeadTitle }\r\n)(withRouter(LeftNav))\r\n","// 格式化时间\r\nexport function formatDate (date) {\r\n  if (!date) return ''\r\n  date = new Date(date)\r\n  const Y = date.getFullYear()\r\n  const M = date.getMonth() + 1\r\n  const D = date.getDate()\r\n  const H = date.getHours()\r\n  const m = date.getMinutes()\r\n  const S = date.getSeconds()\r\n  return `${Y}-${padLeftZero(M)}-${padLeftZero(D)} ${padLeftZero(H)}:${padLeftZero(m)}:${padLeftZero(S)}`\r\n}\r\n\r\n// 不够两位前面补0 // str.padStart(length, fillStr)\r\nfunction padLeftZero (str) {\r\n  str += ''\r\n  return ('00' + str).substr(str.length)\r\n}\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Button, Modal } from 'antd'\r\nimport { GithubFilled } from '@ant-design/icons'\r\nimport { connect } from 'react-redux'\r\n\r\nimport './less/header.less'\r\n\r\nimport { formatDate } from '@utils/date'\r\nimport { logout } from '@redux/actions'\r\n\r\nclass Header extends Component {\r\n  timer = 0 // 定时器\r\n  state = {\r\n    currentTime: formatDate(Date.now()) // 当前时间\r\n  }\r\n  componentDidMount () {\r\n    this.getTime()\r\n  }\r\n  componentWillUnmount () {\r\n    clearInterval(this.timer)\r\n  }\r\n  // 获取当前时间\r\n  getTime = () => {\r\n    this.timer = setInterval(() => {\r\n      const currentTime = formatDate(Date.now())\r\n      this.setState({ currentTime })\r\n    }, 1000)\r\n  }\r\n  // 用户退出\r\n  logout = () => {\r\n    Modal.confirm({\r\n      title: '您确定退出吗？',\r\n      okText: '确定',\r\n      cancelText: '取消',\r\n      onOk: async _ => this.props.logout()\r\n    })\r\n  }\r\n  render () {\r\n    const { currentTime } = this.state\r\n    const { headTitle, user } = this.props\r\n    return (\r\n      <div className='header'>\r\n        <div className='header-top'>\r\n          <span>欢迎，{user.username}</span>\r\n          <Button type='link' onClick={this.logout}>\r\n            退出\r\n          </Button>\r\n        </div>\r\n        <div className='header-bottom'>\r\n          <div className='header-bottom-left'>{headTitle}</div>\r\n          <div className='header-bottom-right'>\r\n            <span>{currentTime}</span>\r\n            <a\r\n              href='https://github.com/w-l-l'\r\n              target='_blank'\r\n              rel='nofollow noopener noreferrer'\r\n            >\r\n              <GithubFilled className='github' />\r\n            </a>\r\n            <span>多云转阴</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    headTitle: state.headTitle,\r\n    user: state.user\r\n  }),\r\n  { logout }\r\n)(withRouter(Header))\r\n","import React, { Component } from 'react'\r\nimport { Chart, Geom, Axis, Tooltip, Legend } from 'bizcharts'\r\nimport DataSet from '@antv/data-set'\r\n\r\nexport default class Line extends Component {\r\n  render() {\r\n    const data = [\r\n      { month: 'Jan', a: 7.0, b: 3.9, c: 5.9 },\r\n      { month: 'Feb', a: 6.9, b: 4.2, c: 1.9 },\r\n      { month: 'Mar', a: 9.5, b: 5.7, c: 3.9 },\r\n      { month: 'Apr', a: 14.5, b: 8.5, c: 5.5 },\r\n      { month: 'May', a: 18.4, b: 11.9, c: 8.9 },\r\n      { month: 'Jun', a: 21.5, b: 15.2, c: 10.0 },\r\n      { month: 'Jul', a: 25.2, b: 17.0, c: 12.9 },\r\n      { month: 'Aug', a: 26.5, b: 16.6, c: 15.9 },\r\n      { month: 'Sep', a: 23.3, b: 14.2, c: 20.7 },\r\n      { month: 'Oct', a: 18.3, b: 10.3, c: 25.9 },\r\n      { month: 'Nov', a: 13.9, b: 6.6, c: 30.9 },\r\n      { month: 'Dec', a: 9.6, b: 4.8, c: 35.9 }\r\n    ]\r\n    const ds = new DataSet()\r\n    const dv = ds.createView().source(data)\r\n    dv.transform({\r\n      type: 'fold',\r\n      fields: ['a', 'b', 'c'],\r\n      key: 'city',\r\n      value: 'temperature'\r\n    })\r\n    const cols = {\r\n      month: {\r\n        range: [0, 1]\r\n      }\r\n    }\r\n    return (\r\n      <div style={{float: 'right', width: 750, height: 300}}>\r\n        <Chart height={250} data={dv} scale={cols} forceFit>\r\n          <Legend />\r\n          <Axis name='month'/>\r\n          <Axis name='temperature' label={{formatter: val => `${val}万个`}} />\r\n          <Tooltip crosshairs={{type: 'y'}} />\r\n          <Geom type='line' position='month*temperature' size={2} color='city' shape='smooth' />\r\n          <Geom type='point' position='month*temperature' size={4} shape='circle' color='city' style={{stroke: '#fff', lineWidth: 1}} />\r\n        </Chart>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Chart, Geom, Axis, Tooltip } from 'bizcharts'\r\n\r\nexport default class Bar extends Component {\r\n  render() {\r\n    const data = [\r\n      { year: '1月', sales: 38 },\r\n      { year: '2月', sales: 52 },\r\n      { year: '3月', sales: 61 },\r\n      { year: '4月', sales: 145 },\r\n      { year: '5月', sales: 48 },\r\n      { year: '6月', sales: 38 },\r\n      { year: '7月', sales: 28 },\r\n      { year: '8月', sales: 38 },\r\n      { year: '59月', sales: 68 },\r\n      { year: '10月', sales: 38 },\r\n      { year: '11月', sales: 58 },\r\n      { year: '12月', sales: 38 }\r\n    ]\r\n    const cols = {\r\n      sales: {\r\n        tickInterval: 20\r\n      }\r\n    }\r\n    return (\r\n      <div style={{width: '100%', marginLeft: -30}}>\r\n        <Chart height={338} data={data} scale={cols} forceFit>\r\n          <Axis name='year'/>\r\n          <Axis name='sales'/>\r\n          <Tooltip\r\n            crosshairs={{\r\n              type: 'y'\r\n            }}\r\n          />\r\n          <Geom type='interval' position='year*sales' />\r\n        </Chart>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react'\r\nimport { Card, Statistic, DatePicker, Timeline } from 'antd'\r\nimport { QuestionCircleOutlined, ArrowDownOutlined, ArrowUpOutlined, ReloadOutlined } from '@ant-design/icons'\r\nimport moment from 'moment'\r\n\r\nimport Line from './line'\r\nimport Bar from './bar'\r\nimport './less/home.less'\r\n\r\nconst dateFormat = 'YYYY/MM/DD'\r\nconst {RangePicker} = DatePicker\r\n\r\nexport default class Home extends Component {\r\n  state = {\r\n    isVisited: true\r\n  }\r\n  handleChange = isVisited => _ => this.setState({ isVisited })\r\n\r\n  render() {\r\n    const {isVisited} = this.state\r\n    return (\r\n      <div className='home'>\r\n        <Card\r\n          className='home-card'\r\n          title='商品总量'\r\n          extra={<QuestionCircleOutlined style={{color: 'rgba(0,0,0,.45)'}} />}\r\n          style={{width: 250}}\r\n          headStyle={{color: 'rgba(0,0,0,.45)'}}\r\n        >\r\n          <Statistic value={1128163} suffix='个' style={{fontWeight: 'bolder'}} />\r\n          <Statistic\r\n            value={15}\r\n            valueStyle={{fontSize: 15}}\r\n            prefix={'周同比'}\r\n            suffix={<div>%<ArrowDownOutlined style={{color: 'red', marginLeft: 10}} /></div>}\r\n          />\r\n          <Statistic\r\n            value={10}\r\n            valueStyle={{fontSize: 15}}\r\n            prefix={'日同比'}\r\n            suffix={<div>%<ArrowUpOutlined style={{color: '#3f8600', marginLeft: 10}} /></div>}\r\n          />\r\n        </Card>\r\n        <Line />\r\n        <Card\r\n          className='home-content'\r\n          title={\r\n            <div className='home-menu'>\r\n              <span className={isVisited ? 'home-menu-active home-menu-visited' : 'home-menu-visited'}\r\n                    onClick={this.handleChange(true)}>访问量</span>\r\n              <span className={isVisited ? '' : 'home-menu-active'} onClick={this.handleChange(false)}>销售量</span>\r\n            </div>\r\n          }\r\n          extra={\r\n            <RangePicker\r\n              defaultValue={[moment('2019/01/01', dateFormat), moment('2019/06/01', dateFormat)]}\r\n              format={dateFormat}\r\n            />\r\n          }\r\n        >\r\n          <Card\r\n            className='home-table-left'\r\n            title={isVisited ? '访问趋势' : '销售趋势'}\r\n            bodyStyle={{padding: 0, height: 275}}\r\n            extra={<ReloadOutlined />}\r\n          >\r\n            <Bar/>\r\n          </Card>\r\n\r\n          <Card title='任务' extra={<ReloadOutlined />} className='home-table-right'>\r\n            <Timeline>\r\n              <Timeline.Item color='green'>新版本迭代会</Timeline.Item>\r\n              <Timeline.Item color='green'>完成网站设计初版</Timeline.Item>\r\n              <Timeline.Item color='red'>\r\n                <p>联调接口</p>\r\n                <p>功能验收</p>\r\n              </Timeline.Item>\r\n              <Timeline.Item>\r\n                <p>登录功能设计</p>\r\n                <p>权限验证</p>\r\n                <p>页面排版</p>\r\n              </Timeline.Item>\r\n            </Timeline>\r\n          </Card>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}","import ajax from './ajax'\r\n\r\n// 获取一级/二级分类\r\nexport const getCategoryList = params => ajax('/manage/category/list', params)\r\n\r\n// 添加分类\r\nexport const addCategory = params => ajax('/manage/category/add', params, 'POST')\r\n\r\n// 修改分类\r\nexport const updateCategory = params => ajax('/manage/category/update', params, 'POST')\r\n\r\n// 获取商品列表\r\nexport const getProductList = params => ajax('/manage/product/list', params)\r\n\r\n// 搜索商品列表\r\nexport const getProductListBySearch = params => ajax('/manage/product/search', params)\r\n\r\n// 更新商品状态(上架/下架)\r\nexport const setProductStatus = params => ajax('/manage/product/updateStatus', params, 'POST')\r\n\r\n// 获取一个分类\r\nexport const getCategoryInfo = params => ajax('/manage/category/info', params)\r\n\r\n// 删除指定名称的图片\r\nexport const deleteImg = params => ajax('/manage/img/delete', params, 'POST')\r\n\r\n// 添加商品\r\nexport const addProduct = params => ajax('/manage/product/add', params, 'POST')\r\n\r\n// 修改商品\r\nexport const updateProduct = params => ajax('/manage/product/update', params, 'POST')\r\n","// 每页显示的记录数\r\nexport const PAGE_SIZE = 3\r\n\r\n// 图片的基础路径\r\nexport const BASE_IMG_URL = 'http://localhost:5000/upload/'\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Form, Select, Input, message } from 'antd'\r\n\r\nimport { addCategory } from '@api/goods'\r\n\r\nconst { Option } = Select\r\n\r\nexport default class AddModal extends Component {\r\n  static propTypes = {\r\n    visible: PropTypes.bool.isRequired,\r\n    cancelModal: PropTypes.func.isRequired,\r\n    categorys: PropTypes.array.isRequired,\r\n    parentId: PropTypes.string.isRequired,\r\n    getCategory: PropTypes.func.isRequired\r\n  }\r\n  // 表单实例\r\n  formRef = React.createRef()\r\n  // 设置选择项\r\n  setSelectOption = () => {\r\n    return this.props.categorys.map(({ _id, name }) => (\r\n      <Option value={_id} key={_id}>\r\n        {name}\r\n      </Option>\r\n    ))\r\n  }\r\n  // 验证所属分类是否选择\r\n  validateParentId = [{ required: true, message: '请选择所属分类' }]\r\n  // 验证分类名称是否输入\r\n  validateCategoryName = [\r\n    { required: true, whitespace: true, message: '分类名称必须输入' }\r\n  ]\r\n  // 隐藏弹窗\r\n  cancelModal = () => {\r\n    this.formRef.current.resetFields()\r\n    this.props.cancelModal()\r\n  }\r\n  // 添加分类\r\n  addCategory = async () => {\r\n    try {\r\n      const params = await this.formRef.current.validateFields()\r\n      const { status } = await addCategory(params)\r\n      if (status !== 0) return\r\n      message.success('添加分类成功')\r\n      this.cancelModal()\r\n      this.props.getCategory(params.parentId)\r\n    } catch (error) {}\r\n  }\r\n  render () {\r\n    const {\r\n      formRef,\r\n      setSelectOption,\r\n      validateParentId,\r\n      validateCategoryName,\r\n      addCategory,\r\n      cancelModal\r\n    } = this\r\n    const { visible, parentId } = this.props\r\n    // 表单默认值\r\n    const initialValues = {\r\n      parentId,\r\n      categoryName: ''\r\n    }\r\n    return (\r\n      <Modal\r\n        title='添加分类'\r\n        visible={visible}\r\n        onCancel={cancelModal}\r\n        onOk={addCategory}\r\n        destroyOnClose\r\n        okText='确定'\r\n        cancelText='取消'\r\n      >\r\n        <Form layout='vertical' initialValues={initialValues} ref={formRef}>\r\n          <Form.Item\r\n            name='parentId'\r\n            label='所属分类：'\r\n            rules={validateParentId}\r\n          >\r\n            <Select\r\n              placeholder='请选择所属分类'\r\n              allowClear\r\n              showSearch\r\n              optionFilterProp='children'\r\n            >\r\n              <Option value='0'>一级分类</Option>\r\n              {setSelectOption()}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item\r\n            name='categoryName'\r\n            label='分类名称：'\r\n            rules={validateCategoryName}\r\n          >\r\n            <Input placeholder='请输入分类名称' autoComplete='off' />\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Form, Input, message } from 'antd'\r\n\r\nimport { updateCategory } from '@api/goods'\r\n\r\nexport default class UpdateModal extends Component {\r\n  static propTypes = {\r\n    visible: PropTypes.bool.isRequired,\r\n    cancelModal: PropTypes.func.isRequired,\r\n    category: PropTypes.object.isRequired,\r\n    getCategory: PropTypes.func.isRequired\r\n  }\r\n  // 表单实例\r\n  formRef = React.createRef()\r\n  // 验证分类名称是否输入\r\n  validateCategoryName = [\r\n    { required: true, whitespace: true, message: '分类名称必须输入' }\r\n  ]\r\n  // 隐藏弹窗\r\n  cancelModal = () => {\r\n    this.formRef.current.resetFields()\r\n    this.props.cancelModal()\r\n  }\r\n  // 修改分类\r\n  updateCategory = async () => {\r\n    try {\r\n      const params = await this.formRef.current.validateFields()\r\n      const { category, getCategory } = this.props\r\n      const { _id: categoryId } = category\r\n      const { status } = await updateCategory({\r\n        ...params,\r\n        categoryId\r\n      })\r\n      if (status !== 0) return\r\n      message.success('修改分类成功')\r\n      this.cancelModal()\r\n      getCategory()\r\n    } catch (error) {}\r\n  }\r\n  render () {\r\n    const { cancelModal, updateCategory, formRef, validateCategoryName } = this\r\n    const { category, visible } = this.props\r\n    const initialValues = {\r\n      categoryName: category.name\r\n    }\r\n    return (\r\n      <Modal\r\n        title='修改分类'\r\n        visible={visible}\r\n        onCancel={cancelModal}\r\n        onOk={updateCategory}\r\n        destroyOnClose\r\n        okText='确定'\r\n        cancelText='取消'\r\n      >\r\n        <Form layout='vertical' initialValues={initialValues} ref={formRef}>\r\n          <Form.Item\r\n            name='categoryName'\r\n            label='分类名称：'\r\n            rules={validateCategoryName}\r\n          >\r\n            <Input placeholder='请输入分类名称' autoComplete='off' />\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Card, Button, Table, message } from 'antd'\r\nimport { PlusOutlined, ArrowRightOutlined } from '@ant-design/icons'\r\n\r\nimport { getCategoryList } from '@api/goods'\r\nimport { PAGE_SIZE } from '@utils/constant'\r\n\r\nimport AddModal from './AddModal'\r\nimport UpdateModal from './UpdateModal'\r\n\r\nconst { Column } = Table\r\n\r\nexport default class Category extends Component {\r\n  // 当前正在修改的分类\r\n  category = {}\r\n  state = {\r\n    categorys: [], // 一级分类\r\n    subCategorys: [], // 二级分类\r\n    showStatus: 0, // 0 隐藏 1 添加 2 修改\r\n    parentId: '0', // 父级分类Id\r\n    parentName: '', // 父级分类Name\r\n    loading: false // 表格加载状态\r\n  }\r\n  componentDidMount () {\r\n    this.getCategory()\r\n  }\r\n  // 获取一二级分类\r\n  getCategory = async categoryId => {\r\n    try {\r\n      const { parentId } = this.state\r\n      if (categoryId && categoryId !== parentId) return\r\n      this.setState({ loading: true })\r\n      const { status, data } = await getCategoryList({ parentId })\r\n      if (status !== 0) return\r\n      const key = parentId === '0' ? 'categorys' : 'subCategorys'\r\n      this.setState({ [key]: data, loading: false })\r\n    } catch (error) {\r\n      message.error('分类列表获取失败')\r\n    }\r\n  }\r\n  // 查看子分类\r\n  getSubCategory = ({ _id, name }) => {\r\n    this.setState({ parentId: _id, parentName: name }, this.getCategory)\r\n  }\r\n  // 返回一级分类\r\n  showCategorys = () => {\r\n    this.setState(\r\n      { parentId: '0', parentName: '', subCategorys: [] },\r\n      this.getCategory\r\n    )\r\n  }\r\n  // 控制显示状态\r\n  showModal = n => {\r\n    this.setState({\r\n      showStatus: n\r\n    })\r\n  }\r\n  // 显示修改弹窗\r\n  showUpdateModal = data => {\r\n    this.category = data\r\n    this.showModal(2)\r\n  }\r\n  // 隐藏弹窗\r\n  cancelModal = () => this.showModal(0)\r\n  render () {\r\n    const {\r\n      showModal,\r\n      cancelModal,\r\n      getCategory,\r\n      category,\r\n      showCategorys\r\n    } = this\r\n    const {\r\n      categorys,\r\n      subCategorys,\r\n      showStatus,\r\n      parentId,\r\n      parentName,\r\n      loading\r\n    } = this.state\r\n    const isParentId = parentId === '0'\r\n    // 表格操作列渲染\r\n    const renderTableHanle = data => (\r\n      <>\r\n        <Button type='link' onClick={() => this.showUpdateModal(data)}>\r\n          修改分类\r\n        </Button>\r\n        {isParentId ? (\r\n          <Button type='link' onClick={() => this.getSubCategory(data)}>\r\n            查看子分类\r\n          </Button>\r\n        ) : null}\r\n      </>\r\n    )\r\n    // 卡片右上方\r\n    const extra = (\r\n      <Button\r\n        type='primary'\r\n        icon={<PlusOutlined />}\r\n        onClick={() => showModal(1)}\r\n      >\r\n        添加分类\r\n      </Button>\r\n    )\r\n    // 卡片标题\r\n    const title = isParentId ? (\r\n      '一级分类列表'\r\n    ) : (\r\n      <>\r\n        <Button\r\n          type='link'\r\n          onClick={showCategorys}\r\n          style={{ padding: 0, fontSize: 16 }}\r\n        >\r\n          一级分类列表\r\n        </Button>\r\n        <ArrowRightOutlined style={{ margin: '0 5px' }} />\r\n        <span>{parentName}</span>\r\n      </>\r\n    )\r\n    return (\r\n      <Card title={title} extra={extra}>\r\n        <Table\r\n          dataSource={isParentId ? categorys : subCategorys}\r\n          rowKey='_id'\r\n          bordered\r\n          loading={loading}\r\n          pagination={{ defaultPageSize: PAGE_SIZE, showQuickJumper: true }}\r\n        >\r\n          <Column title='分类名称' dataIndex='name'></Column>\r\n          <Column title='操作' render={renderTableHanle} width='300px'></Column>\r\n        </Table>\r\n        <AddModal\r\n          visible={showStatus === 1}\r\n          cancelModal={cancelModal}\r\n          categorys={categorys}\r\n          parentId={parentId}\r\n          getCategory={getCategory}\r\n        />\r\n        <UpdateModal\r\n          visible={showStatus === 2}\r\n          cancelModal={cancelModal}\r\n          category={category}\r\n          getCategory={getCategory}\r\n        />\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Card, Select, Input, Button, Table, Switch, message } from 'antd'\r\nimport { PlusOutlined } from '@ant-design/icons'\r\n\r\nimport {\r\n  getProductList,\r\n  getProductListBySearch,\r\n  setProductStatus\r\n} from '@api/goods'\r\nimport { PAGE_SIZE } from '@utils/constant'\r\n\r\nconst { Option } = Select\r\nconst { Column } = Table\r\n\r\nexport default class Home extends Component {\r\n  // 当前页数\r\n  currentPage = 1\r\n  state = {\r\n    total: 0, // 表格总数量\r\n    productList: [], // 商品数据\r\n    loading: false, // 表格加载动画\r\n    searchType: 'productName', // 搜索类型\r\n    searchName: '' // 关键字\r\n  }\r\n  // 获取商品列表\r\n  getProductList = async (pageNum = 1) => {\r\n    try {\r\n      this.setState({ loading: true })\r\n      this.currentPage = pageNum\r\n      const { searchType, searchName } = this.state\r\n      const params = {\r\n        pageNum,\r\n        pageSize: PAGE_SIZE\r\n      }\r\n      searchName && (params[searchType] = searchName)\r\n      const { status, data } = await (searchName\r\n        ? getProductListBySearch(params)\r\n        : getProductList(params))\r\n      if (status !== 0) return\r\n      const { list: productList, total } = data\r\n      this.setState({ productList, total, loading: false })\r\n    } catch (error) {\r\n      message.error('商品列表获取失败')\r\n    }\r\n  }\r\n  // 更新商品状态\r\n  setProductStatus = async (productId, status) => {\r\n    status = status === 1 ? 2 : 1\r\n    const { status: state } = await setProductStatus({ productId, status })\r\n    if (state !== 0) return\r\n    message.success('商品状态更新成功')\r\n    this.getProductList(this.currentPage)\r\n  }\r\n  componentDidMount () {\r\n    this.getProductList()\r\n  }\r\n  // 表格状态上下架render\r\n  tableStatusRender = ({ _id, status }) => (\r\n    <Switch\r\n      checkedChildren='上架'\r\n      unCheckedChildren='下架'\r\n      checked={status === 1}\r\n      onChange={() => this.setProductStatus(_id, status)}\r\n    />\r\n  )\r\n  // 表格操作render\r\n  tableHandleRender = product => {\r\n    const { push } = this.props.history\r\n    return (\r\n      <>\r\n        <Button\r\n          type='link'\r\n          onClick={() => push('/goods/product/detail', { product })}\r\n        >\r\n          详情\r\n        </Button>\r\n        <Button\r\n          type='link'\r\n          onClick={() => push('/goods/product/update', product)}\r\n        >\r\n          修改\r\n        </Button>\r\n      </>\r\n    )\r\n  }\r\n  render () {\r\n    const {\r\n      currentPage,\r\n      getProductList,\r\n      tableStatusRender,\r\n      tableHandleRender\r\n    } = this\r\n    const { total, productList, loading, searchType } = this.state\r\n    // 卡片左侧\r\n    const title = (\r\n      <>\r\n        <Select\r\n          placeholder='请选择搜索类型'\r\n          style={{ width: 150 }}\r\n          value={searchType}\r\n          onChange={searchType => this.setState({ searchType })}\r\n        >\r\n          <Option value='productName'>按名称搜索</Option>\r\n          <Option value='productDesc'>按描述搜索</Option>\r\n        </Select>\r\n        <Input\r\n          placeholder='关键字'\r\n          autoComplete='off'\r\n          style={{ width: 150, margin: '0 15px' }}\r\n          onChange={event => this.setState({ searchName: event.target.value })}\r\n        />\r\n        <Button type='primary' onClick={() => getProductList()}>\r\n          搜索\r\n        </Button>\r\n      </>\r\n    )\r\n    // 卡片右侧\r\n    const extra = (\r\n      <Button\r\n        type='primary'\r\n        icon={<PlusOutlined />}\r\n        onClick={() => this.props.history.push('/goods/product/add')}\r\n      >\r\n        添加商品\r\n      </Button>\r\n    )\r\n    // 后端分页设置\r\n    const pagination = {\r\n      current: currentPage,\r\n      defaultPageSize: PAGE_SIZE,\r\n      total,\r\n      showQuickJumper: true,\r\n      onChange: getProductList\r\n    }\r\n    return (\r\n      <Card title={title} extra={extra}>\r\n        <Table\r\n          dataSource={productList}\r\n          pagination={pagination}\r\n          loading={loading}\r\n          bordered\r\n          rowKey='_id'\r\n        >\r\n          <Column title='商品名称' dataIndex='name' />\r\n          <Column title='商品描述' dataIndex='desc' />\r\n          <Column\r\n            title='价格'\r\n            dataIndex='price'\r\n            render={price => `￥${price}`}\r\n            width='100px'\r\n          />\r\n          <Column title='状态' render={tableStatusRender} width='100px' />\r\n          <Column title='操作' render={tableHandleRender} width='160px' />\r\n        </Table>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Card, List } from 'antd'\r\nimport { ArrowLeftOutlined } from '@ant-design/icons'\r\n\r\nimport { getCategoryInfo } from '@api/goods'\r\nimport { BASE_IMG_URL } from '@utils/constant'\r\n\r\nimport './less/detail.less'\r\n\r\nconst { Item } = List\r\n\r\nexport default class Detail extends Component {\r\n  state = {\r\n    parentCategoryName: '', // 一级分类名称\r\n    childCategoryName: '' // 二级分类名称\r\n  }\r\n  componentDidMount () {\r\n    this.getCategoryName()\r\n  }\r\n  // 获取当前分类名称\r\n  getCategoryName = async () => {\r\n    const { pCategoryId, categoryId } = this.props.location.state.product\r\n    if (pCategoryId === '0') {\r\n      const { data: { name: parentCategoryName } = {} } = await getCategoryInfo(\r\n        { categoryId }\r\n      )\r\n      this.setState({ parentCategoryName })\r\n    } else {\r\n      const [parent, child] = await Promise.all([\r\n        getCategoryInfo({ categoryId: pCategoryId }),\r\n        getCategoryInfo({ categoryId })\r\n      ])\r\n      const { data: { name: parentCategoryName } = {} } = parent\r\n      const { data: { name: childCategoryName } = {} } = child\r\n      this.setState({ parentCategoryName, childCategoryName })\r\n    }\r\n  }\r\n  render () {\r\n    const {\r\n      name,\r\n      desc,\r\n      price,\r\n      detail,\r\n      imgs = []\r\n    } = this.props.location.state.product\r\n    const { parentCategoryName, childCategoryName } = this.state\r\n    // 卡片左上方\r\n    const title = (\r\n      <span>\r\n        <ArrowLeftOutlined\r\n          style={{ marginRight: 10, cursor: 'pointer', color: '#1DA57A' }}\r\n          onClick={this.props.history.goBack}\r\n        />\r\n        <span>商品详情</span>\r\n      </span>\r\n    )\r\n    return (\r\n      <Card title={title} className='product-detail'>\r\n        <List>\r\n          <Item>\r\n            <span className='label'>商品名称：</span>\r\n            <span>{name}</span>\r\n          </Item>\r\n          <Item>\r\n            <span className='label'>商品描述：</span>\r\n            <span>{desc}</span>\r\n          </Item>\r\n          <Item>\r\n            <span className='label'>商品价格：</span>\r\n            <span>{price}元</span>\r\n          </Item>\r\n          <Item>\r\n            <span className='label'>所属分类：</span>\r\n            <span>\r\n              {parentCategoryName +\r\n                (childCategoryName ? ` --> ${childCategoryName}` : '')}\r\n            </span>\r\n          </Item>\r\n          <Item>\r\n            <span className='label'>商品图片：</span>\r\n            <span>\r\n              {imgs.map(item => (\r\n                <img\r\n                  className='product-img'\r\n                  key={item}\r\n                  src={BASE_IMG_URL + item}\r\n                  alt='img'\r\n                />\r\n              ))}\r\n            </span>\r\n          </Item>\r\n          <Item>\r\n            <span className='label'>商品详情：</span>\r\n            <span dangerouslySetInnerHTML={{ __html: detail }}></span>\r\n          </Item>\r\n        </List>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Upload, Modal, message } from 'antd'\r\nimport { PlusOutlined } from '@ant-design/icons'\r\n\r\nimport { deleteImg } from '@api/goods'\r\nimport { BASE_IMG_URL } from '@utils/constant'\r\n\r\nexport default class UploadImg extends Component {\r\n  static propTypes = {\r\n    imgs: PropTypes.array\r\n  }\r\n  state = {\r\n    previewVisible: false,\r\n    previewImage: '',\r\n    previewTitle: '',\r\n    fileList: []\r\n  }\r\n  constructor (props) {\r\n    super(props)\r\n    let fileList = []\r\n    const { imgs } = this.props\r\n    if (imgs && imgs.length > 0) {\r\n      fileList = imgs.map((item, index) => ({\r\n        uid: -index,\r\n        name: item,\r\n        status: 'done',\r\n        url: BASE_IMG_URL + item\r\n      }))\r\n    }\r\n    this.state = {\r\n      previewVisible: false,\r\n      previewImage: '',\r\n      previewTitle: '',\r\n      fileList\r\n    }\r\n  }\r\n  // 获取图片信息\r\n  getImgs = _ => this.state.fileList.map(item => item.name)\r\n  // 图片预览\r\n  handlePreview = ({ url, thumbUrl, name }) => this.setState({\r\n    previewVisible: true,\r\n    previewImage: url || thumbUrl,\r\n    previewTitle: name\r\n  })\r\n  // 关闭图片预览弹窗\r\n  handleCancel = _ => this.setState({\r\n    previewVisible: false,\r\n    previewImage: '',\r\n    previewTitle: ''\r\n  })\r\n  // 操作图片\r\n  handleChange = async ({ file, fileList }) => {\r\n    const { status, response, name } = file\r\n    if (status === 'done') { // 图片上传成功\r\n      if (response.status === 0) {\r\n        const { name, url } = response.data\r\n        file.name = name\r\n        file.url = url\r\n        message.success('图片上传成功')\r\n      } else {\r\n        message.error('图片上传失败')\r\n      }\r\n    } else if (status === 'removed') { // 删除图片\r\n      const { status } = await deleteImg({ name })\r\n      status === 0 ? message.success('删除图片成功') : message.error('删除图片失败')\r\n    }\r\n    this.setState({ fileList })\r\n  }\r\n  render () {\r\n    const { previewVisible, previewImage, previewTitle, fileList } = this.state\r\n    const { handlePreview, handleChange, handleCancel } = this\r\n    const uploadButton = (\r\n      <div>\r\n        <PlusOutlined />\r\n        <div style={{ marginTop: 4 }}>Upload</div>\r\n      </div>\r\n    )\r\n    return (\r\n      <>\r\n        <Upload\r\n          action='/api/manage/img/upload'\r\n          accept='image/*'\r\n          name='image'\r\n          listType='picture-card'\r\n          fileList={fileList}\r\n          onPreview={handlePreview}\r\n          onChange={handleChange}\r\n        >\r\n          {fileList.length >= 4 ? null : uploadButton}\r\n        </Upload>\r\n        <Modal\r\n          visible={previewVisible}\r\n          title={previewTitle}\r\n          footer={null}\r\n          onCancel={handleCancel}\r\n        >\r\n          <img alt='example' style={{ width: '100%' }} src={previewImage} />\r\n        </Modal>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Editor } from 'react-draft-wysiwyg'\r\nimport { EditorState, convertToRaw, ContentState } from 'draft-js'\r\nimport draftToHtml from 'draftjs-to-html'\r\nimport htmlToDraft from 'html-to-draftjs'\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\r\n\r\nexport default class RichTextEditor extends Component {\r\n  static propTypes = {\r\n    detail: PropTypes.string\r\n  }\r\n  state = {\r\n    editorState: EditorState.createEmpty() // 创建一个没有内容的空对象\r\n  }\r\n  constructor(props) {\r\n    super(props)\r\n    const { detail } = this.props\r\n    if(!detail) return\r\n    const contentBlock = htmlToDraft(detail)\r\n    const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks)\r\n    const editorState = EditorState.createWithContent(contentState)\r\n    this.state = { editorState }\r\n  }\r\n  // 实时输入的回调\r\n  onEditorStateChange = editorState => {\r\n    this.setState({ editorState })\r\n    this.getDetail()\r\n  }\r\n  // 获取详情内容\r\n  getDetail = _ => draftToHtml(convertToRaw(this.state.editorState.getCurrentContent()))\r\n  // 图片上传回调\r\n  uploadCallback = file => new Promise((resolve, reject) => {\r\n    const xhr = new XMLHttpRequest()\r\n    xhr.open('POST', '/api/manage/img/upload')\r\n    const data = new FormData()\r\n    data.append('image', file)\r\n    xhr.send(data)\r\n    xhr.addEventListener('load', _ => {\r\n      const res = JSON.parse(xhr.responseText)\r\n      const { data: { url } } = res\r\n      resolve({ data: { link: url } })\r\n    })\r\n    xhr.addEventListener('error', _ => {\r\n      const error = JSON.parse(xhr.responseText)\r\n      reject(error)\r\n    })\r\n  })\r\n  render () {\r\n    const { editorState } = this.state\r\n    const { onEditorStateChange, uploadCallback } = this\r\n    return (\r\n      <div>\r\n        <Editor\r\n          editorState={editorState}\r\n          editorStyle={{border: '1px solid', minHeight: 200, paddingLeft: 10}}\r\n          onEditorStateChange={onEditorStateChange}\r\n          toolbar={{\r\n            image: { uploadCallback },\r\n            alt: { present: true, mandatory: true }\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component, createRef } from 'react'\r\nimport { Card, Form, Input, Button, Cascader, message } from 'antd'\r\nimport { ArrowLeftOutlined } from '@ant-design/icons'\r\n\r\nimport { getCategoryList } from '@api/goods'\r\n\r\nimport UploadImg from '@components/UploadImg'\r\nimport RichTextEditor from '@components/RichTextEditor'\r\n\r\nimport { addProduct, updateProduct } from '@api/goods'\r\n\r\nconst { Item } = Form\r\nconst { TextArea } = Input\r\n\r\nexport default class AddUpdate extends Component {\r\n  // 是否是修改商品\r\n  isUpdate = true\r\n  // 商品信息\r\n  product = {}\r\n  // 商品图片ref\r\n  imgRef = null\r\n  // 富文本ref\r\n  editorRef = null\r\n  state = {\r\n    options: []\r\n  }\r\n  constructor (props) {\r\n    super(props)\r\n    const product = this.props.location.state\r\n    this.isUpdate = !!product\r\n    this.product = product || {}\r\n    this.imgRef = createRef()\r\n    this.editorRef = createRef()\r\n  }\r\n  componentDidMount () {\r\n    this.getCategorys('0')\r\n  }\r\n  // 获取分类\r\n  getCategorys = async parentId => {\r\n    const { status, data } = await getCategoryList({ parentId })\r\n    if (status !== 0) return\r\n    if (parentId === '0') {\r\n      this.initOptions(data)\r\n    } else {\r\n      return data\r\n    }\r\n  }\r\n  // 设置分类数据option\r\n  setCategorys = (categorys, isLeaf = false) =>\r\n    categorys.map(({ _id: value, name: label }) => ({\r\n      value,\r\n      label,\r\n      isLeaf\r\n    }))\r\n  // 初始化级联选择框配置\r\n  initOptions = async categorys => {\r\n    const {\r\n      isUpdate,\r\n      product: { pCategoryId },\r\n      getCategorys,\r\n      setCategorys\r\n    } = this\r\n    const options = setCategorys(categorys)\r\n    if (isUpdate && pCategoryId !== '0') {\r\n      const data = await getCategorys(pCategoryId)\r\n      const childOptions = setCategorys(data)\r\n      const targetOption = options.find(item => item.value === pCategoryId)\r\n      targetOption.children = childOptions\r\n    }\r\n    this.setState({ options })\r\n  }\r\n  // 商品价格验证规则\r\n  validatorPrice = (_, price) => price * 1 > 0 ? Promise.resolve() : Promise.reject('商品价格必须大于0')\r\n  // 动态获取分类数据\r\n  loadData = async ([option]) => {\r\n    option.loading = true\r\n    const { getCategorys, setCategorys } = this\r\n    const data = await getCategorys(option.value)\r\n    option.loading = false\r\n    if (data && data.length > 0) {\r\n      option.children = setCategorys(data, true)\r\n    } else {\r\n      option.isLeaf = true\r\n    }\r\n    const { options } = this.state\r\n    this.setState({ options })\r\n  }\r\n  // 提交表单\r\n  submit = async params => {\r\n    const { name, desc, price, categoryIds } = params\r\n    const cloneCategoryIds = [...categoryIds]\r\n    if (cloneCategoryIds.length === 1) cloneCategoryIds.unshift('0')\r\n    const [pCategoryId, categoryId] = cloneCategoryIds \r\n    const { imgRef, editorRef, isUpdate } = this\r\n    const imgs = imgRef.current.getImgs()\r\n    const detail = editorRef.current.getDetail()\r\n    const product = { name, desc, price, pCategoryId, categoryId, imgs, detail }\r\n    let msg = '添加商品', reqProduct = addProduct\r\n    if (isUpdate) {\r\n      product._id = this.product._id\r\n      msg = '更新商品'\r\n      reqProduct = updateProduct\r\n    }\r\n    const { status } = await reqProduct(product)\r\n    if (status !== 0) return message.success(`${msg}失败！`)\r\n    message.success(`${msg}成功！`)\r\n    this.props.history.goBack()\r\n  }\r\n  render () {\r\n    const { isUpdate, submit, validatorPrice, loadData, imgRef, editorRef, product } = this\r\n    const { options } = this.state\r\n    const { name, desc, price, pCategoryId, categoryId, imgs, detail } = product\r\n    let initialValues = {}\r\n    if (isUpdate) {\r\n      const categoryIds = [categoryId]\r\n      if (pCategoryId !== '0') categoryIds.unshift(pCategoryId)\r\n      initialValues = {\r\n        name,\r\n        desc,\r\n        price: price + '',\r\n        categoryIds\r\n      }\r\n    }\r\n    // 头部左侧\r\n    const title = (\r\n      <span>\r\n        <ArrowLeftOutlined\r\n          style={{ marginRight: 10, cursor: 'pointer', color: '#1DA57A' }}\r\n          onClick={this.props.history.goBack}\r\n        />\r\n        <span>{isUpdate ? '修改' : '添加'}商品</span>\r\n      </span>\r\n    )\r\n    return (\r\n      <Card title={title}>\r\n        <Form labelCol={{ span: 2 }} wrapperCol={{ span: 8 }} onFinish={submit} initialValues={initialValues}>\r\n          <Item\r\n            label='商品名称'\r\n            name='name'\r\n            rules={[\r\n              { required: true, message: '必须输入商品名称', whitespace: true }\r\n            ]}\r\n          >\r\n            <Input placeholder='请输入商品名称' autoComplete='off' />\r\n          </Item>\r\n          <Item\r\n            label='商品描述'\r\n            name='desc'\r\n            rules={[\r\n              { required: true, message: '必须输入商品描述', whitespace: true }\r\n            ]}\r\n          >\r\n            <TextArea\r\n              placeholder='请输入商品描述'\r\n              autoSize={{ minRows: 2, maxRows: 6 }}\r\n            />\r\n          </Item>\r\n          <Item\r\n            label='商品价格'\r\n            name='price'\r\n            rules={[\r\n              { required: true, message: '必须输入商品价格', whitespace: true },\r\n              { validator: validatorPrice }\r\n            ]}\r\n          >\r\n            <Input\r\n              placeholder='请输入商品价格'\r\n              addonAfter='元'\r\n              autoComplete='off'\r\n            />\r\n          </Item>\r\n          <Item\r\n            label='商品分类'\r\n            name='categoryIds'\r\n            rules={[{ required: true, message: '必须指定商品分类' }]}\r\n          >\r\n            <Cascader\r\n              options={options}\r\n              loadData={loadData}\r\n              placeholder='请指定商品分类'\r\n            />\r\n          </Item>\r\n          <Item label='商品图片'>\r\n            <UploadImg ref={imgRef} imgs={imgs} />\r\n          </Item>\r\n          <Item label='商品详情' wrapperCol={{span: 20}}>\r\n            <RichTextEditor ref={editorRef} detail={detail} />\r\n          </Item>\r\n          <Item>\r\n            <Button type='primary' htmlType='submit'>\r\n              提交\r\n            </Button>\r\n          </Item>\r\n        </Form>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\n\r\nimport Home from './Home'\r\nimport Detail from './Detail'\r\nimport AddUpdate from './AddUpdate'\r\n\r\nexport default class Product extends Component {\r\n  render () {\r\n    return (\r\n      <Switch>\r\n        <Route path='/goods/product' exact component={Home} />\r\n        <Route path='/goods/product/detail' component={Detail} />\r\n        <Route path='/goods/product/add' component={AddUpdate} />\r\n        <Route path='/goods/product/update' component={AddUpdate} />\r\n        <Redirect to='/goods/product' />\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n","import ajax from './ajax'\r\n\r\n// 获取用户列表\r\nexport const getUserList = _ => ajax('/manage/user/list')\r\n\r\n// 删除用户\r\nexport const delUser = params => ajax('/manage/user/delete', params, 'POST')\r\n\r\n// 添加用户\r\nexport const addUser = params => ajax('/manage/user/add', params, 'POST')\r\n\r\n// 修改用户\r\nexport const updateUser = params => ajax('/manage/user/update', params, 'POST')\r\n","import React, { Component, createRef } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Form, Input, Select, message } from 'antd'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { addUser, updateUser } from '@api/user'\r\nimport { logout } from '@redux/actions'\r\n\r\nconst { Item } = Form\r\nconst { Option } = Select\r\n\r\nclass AddUpdateModal extends Component {\r\n  static propTypes = {\r\n    roles: PropTypes.array.isRequired,\r\n    getUserList: PropTypes.func.isRequired\r\n  }\r\n  formRef = createRef()\r\n  user = {}\r\n  state = {\r\n    isModalVisible: false\r\n  }\r\n  show = user => {\r\n    this.user = user || {}\r\n    this.setState({ isModalVisible: true })\r\n  }\r\n  handleOk = async _ => {\r\n    const params = await this.formRef.current.validateFields()\r\n    const { user, handleCancel } = this\r\n    if (user._id) params._id = user._id\r\n    const { status } = await (user._id ? updateUser(params) : addUser(params))\r\n    if (status !== 0) return\r\n    const { _id: userId, role_id } = this.props.user\r\n    if (user._id && user._id === userId && params.role_id !== role_id) return this.props.logout('当前用户角色发生变更，请重新登陆')\r\n    message.success(`${user._id ? '修改' : '添加'}用户成功`)\r\n    this.props.getUserList()\r\n    handleCancel()\r\n  }\r\n  handleCancel = _ => {\r\n    this.formRef.current.resetFields()\r\n    this.setState({ isModalVisible: false })\r\n  }\r\n  render () {\r\n    const { handleOk, handleCancel, formRef, user } = this\r\n    const { isModalVisible } = this.state\r\n    const { roles } = this.props\r\n    return (\r\n      <Modal\r\n        title={`${user._id ? '修改' : '添加'}用户`}\r\n        visible={isModalVisible}\r\n        destroyOnClose\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n      >\r\n        <Form preserve={false} ref={formRef} labelCol={{ span: 4 }} wrapperCol={{ span: 15 }} initialValues={user}>\r\n          <Item label='用户名' name='username' rules={[{ required: true, message: '用户名必须输入' }]}>\r\n            <Input placeholder='请输入用户名' autoComplete='off' />\r\n          </Item>\r\n          {\r\n            user._id ? null : (\r\n              <Item label='密码' name='password' rules={[{ required: true, message: '密码必须输入' }]}>\r\n                <Input type='password' placeholder='请输入密码' autoComplete='off' />\r\n              </Item>\r\n            )\r\n          }\r\n          <Item label='手机号' name='phone' rules={[{ required: true, message: '手机号必须输入' }]}>\r\n            <Input placeholder='请输入手机号' autoComplete='off' />\r\n          </Item>\r\n          <Item label='邮箱' name='email' rules={[{ required: true, message: '邮箱必须输入' }]}>\r\n            <Input placeholder='请输入邮箱' autoComplete='off' />\r\n          </Item>\r\n          <Item label='角色' name='role_id' rules={[{ required: true, message: '请选择角色' }]}>\r\n            <Select placeholder='请选择角色' allowClear showSearch optionFilterProp='children'>\r\n              { roles.map(item => <Option key={item._id} value={item._id}>{item.name}</Option>) }\r\n            </Select>\r\n          </Item>\r\n        </Form>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({ user: state.user }),\r\n  { logout }\r\n)(withRouter(AddUpdateModal))","import React, { Component, createRef } from 'react'\r\nimport { Card, Button, Table, message, Modal } from 'antd'\r\n\r\nimport { getUserList, delUser } from '@api/user'\r\nimport { formatDate } from '@utils/date'\r\nimport { PAGE_SIZE } from '@utils/constant'\r\n\r\nimport AddUpdateModal from './AddUpdateModal'\r\n\r\nconst { Column } = Table\r\n\r\nexport default class User extends Component {\r\n  roleNames = {}\r\n  addUpdateModalRef = createRef()\r\n  state = {\r\n    users: [],\r\n    roles: [],\r\n    loading: false\r\n  }\r\n  componentDidMount() {\r\n    this.getUserList()\r\n  }\r\n  getUserList = async _ => {\r\n    try {\r\n      this.setState({ loading: true })\r\n      const { status, data: { users = [], roles = [] } } = await getUserList()\r\n      if (status !== 0) return\r\n      this.initRoleNames(roles)\r\n      this.setState({ users, roles, loading: false })\r\n    } catch (error) {\r\n      message.error('用户列表获取失败')\r\n    }\r\n  }\r\n  initRoleNames = roles => {\r\n    const roleNames = roles.reduce((total, item) => {\r\n      total[item._id] = item.name\r\n      return total\r\n    }, {})\r\n    this.roleNames = roleNames\r\n  }\r\n  delUser = ({ username, _id }) => {\r\n    Modal.confirm({\r\n      title: `确定删除${username}吗？`,\r\n      onOk: async _ => {\r\n        const { status } = await delUser({ userId: _id })\r\n        if (status !== 0) return\r\n        message.success('删除用户成功！')\r\n        this.getUserList()\r\n      }\r\n    })\r\n  }\r\n  showAddUpdateModal = user => {\r\n    this.addUpdateModalRef.current.show(user)\r\n  }\r\n  tableHandleRender = user => {\r\n    return (\r\n      <>\r\n        <Button type='link' onClick={_ => this.showAddUpdateModal(user)}>修改</Button>\r\n        <Button type='link' onClick={_ => this.delUser(user)}>删除</Button>\r\n      </>\r\n    )\r\n  }\r\n  render () {\r\n    const { roleNames, tableHandleRender, addUpdateModalRef, showAddUpdateModal, getUserList } = this\r\n    const { users, loading, roles } = this.state\r\n    const title = <Button type='primary' onClick={_ => showAddUpdateModal()}>创建用户</Button>\r\n    return (\r\n      <Card title={title}>\r\n        <Table\r\n          dataSource={users}\r\n          rowKey='_id'\r\n          loading={loading}\r\n          bordered\r\n          pagination={{ defaultPageSize: PAGE_SIZE, showQuickJumper: true }}\r\n        >\r\n          <Column title='用户名' dataIndex='username' />\r\n          <Column title='邮箱' dataIndex='email' />\r\n          <Column title='电话' dataIndex='phone' />\r\n          <Column title='注册时间' dataIndex='create_time' render={formatDate} />\r\n          <Column title='所属角色' dataIndex='role_id' render={role_id => roleNames[role_id]} />\r\n          <Column title='操作' width='160px' render={tableHandleRender} />\r\n        </Table>\r\n        <AddUpdateModal wrappedComponentRef={addUpdateModalRef} roles={roles} getUserList={getUserList} />\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import ajax from './ajax'\r\n\r\n// 获取角色列表\r\nexport const getRoleList = _ => ajax('/manage/role/list')\r\n\r\n// 创建角色\r\nexport const addRole = params => ajax('/manage/role/add', params, 'POST')\r\n\r\n// 修改角色\r\nexport const updateRole = params => ajax('/manage/role/update', params, 'POST')\r\n","import React, { Component, createRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Form, Input, message } from 'antd'\r\n\r\nimport { addRole } from '@api/role'\r\n\r\nconst { Item } = Form\r\n\r\nexport default class AddModal extends Component {\r\n  static propTypes = {\r\n    isShowAdd: PropTypes.bool.isRequired,\r\n    controlState: PropTypes.func.isRequired,\r\n    getRoleList: PropTypes.func.isRequired\r\n  }\r\n  // 表单ref\r\n  addFormRef = createRef()\r\n  // 创建角色\r\n  addRole = async _ => {\r\n    try {\r\n      const params = await this.addFormRef.current.validateFields()\r\n      const { status } = await addRole(params)\r\n      if (status !== 0) return message.error('创建角色失败')\r\n      message.success('创建角色成功')\r\n      this.handleCancel()\r\n      this.props.getRoleList()\r\n    } catch (error) {}\r\n  }\r\n  // 关闭弹窗\r\n  handleCancel = _ => {\r\n    const { controlState } = this.props\r\n    this.addFormRef.current.resetFields()\r\n    controlState('isShowAdd', false)\r\n  }\r\n  render () {\r\n    const { addRole, handleCancel, addFormRef } = this\r\n    const { isShowAdd } = this.props\r\n    return (\r\n      <div>\r\n        <Modal\r\n          title='创建角色'\r\n          visible={isShowAdd}\r\n          onOk={addRole}\r\n          onCancel={handleCancel}\r\n        >\r\n          <Form ref={addFormRef}>\r\n            <Item label='角色名称' name='roleName' rules={[{ required: true, message: '角色名称必须输入' }]}>\r\n              <Input placeholder='请输入角色名称' autoComplete='off' />\r\n            </Item>\r\n          </Form>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Form, Input, Tree, message } from 'antd'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { updateRole } from '@api/role'\r\nimport menuList from '@config/menuList'\r\nimport { logout } from '@redux/actions'\r\n\r\nconst { Item } = Form\r\n\r\nclass AuthModal extends Component {\r\n  static propTypes = {\r\n    isShowAuth: PropTypes.bool.isRequired,\r\n    controlState: PropTypes.func.isRequired,\r\n    getRoleList: PropTypes.func.isRequired,\r\n    role: PropTypes.object.isRequired\r\n  }\r\n  state = {\r\n    checkedKeys: []\r\n  }\r\n  // 树节点数据\r\n  treeData = []\r\n  constructor(props) {\r\n    super(props)\r\n    this.treeData = [{\r\n      title: '平台权限',\r\n      key: 'all',\r\n      children: this.getTreeNodes(menuList)\r\n    }]\r\n  }\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { role: { menus = [] }, isShowAuth } = props\r\n    const { checkedKeys } = state\r\n    return {\r\n      checkedKeys: isShowAuth ? checkedKeys : menus\r\n    }\r\n  }\r\n  // 设置角色权限\r\n  updateRole = async _ => {\r\n    const { checkedKeys } = this.state\r\n    const { role: oldRole, getRoleList, controlState, user, logout } = this.props\r\n    const role = {...oldRole}\r\n    role.menus = checkedKeys\r\n    role.auth_time = Date.now()\r\n    role.auth_name = user.username\r\n    const { status, data } = await updateRole(role)\r\n    if (status !== 0) return message.error('设置角色权限失败')\r\n    if (role._id === user.role_id) return logout('当前用户角色权限设置成功，请重新登陆')\r\n    message.success('设置角色权限成功')\r\n    controlState('role', data)\r\n    this.handleCancel()\r\n    getRoleList()\r\n  }\r\n  // 关闭弹窗\r\n  handleCancel = _ => {\r\n    const { controlState } = this.props\r\n    controlState('isShowAuth', false)\r\n    this.setState({ checkedKeys: [] })\r\n  }\r\n  // 生成TreeNode\r\n  getTreeNodes = menuList => {\r\n    return menuList.reduce((pre, { title, key, children }) => {\r\n      const treeNode = { title, key }\r\n      children && (treeNode.children = this.getTreeNodes(children))\r\n      pre.push(treeNode)\r\n      return pre\r\n    }, [])\r\n  }\r\n  render() {\r\n    const { updateRole, handleCancel, treeData } = this\r\n    const { isShowAuth, role } = this.props\r\n    const { checkedKeys } = this.state\r\n    return (\r\n      <Modal\r\n        title='设置角色权限'\r\n        visible={isShowAuth}\r\n        onOk={updateRole}\r\n        onCancel={handleCancel}\r\n      >\r\n        <Item label='角色名称'>\r\n          <Input value={role.name} disabled />\r\n        </Item>\r\n        <Tree\r\n          checkable\r\n          defaultExpandAll\r\n          checkedKeys={checkedKeys}\r\n          treeData={treeData}\r\n          onCheck={checkedKeys => this.setState({ checkedKeys })}\r\n        />\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({ user: state.user }),\r\n  { logout }\r\n)(withRouter(AuthModal))\r\n","import React, { Component } from 'react'\r\nimport { Card, Button, Table, message } from 'antd'\r\n\r\nimport { getRoleList } from '@api/role'\r\nimport { formatDate } from '@utils/date'\r\nimport { PAGE_SIZE } from '@utils/constant'\r\n\r\nimport AddModal from './AddModal'\r\nimport AuthModal from './AuthModal'\r\n\r\nconst { Column } = Table\r\n\r\nexport default class Role extends Component {\r\n  state = {\r\n    roles: [], // 所有角色列表\r\n    loading: false,\r\n    role: {}, // 当前选中的角色信息\r\n    isShowAdd: false, // 是否显示创建角色弹窗\r\n    isShowAuth: false // 是否显示设置角色权限弹窗\r\n  }\r\n  componentDidMount() {\r\n    this.getRoleList()\r\n  }\r\n  // 获取角色列表\r\n  getRoleList = async _ => {\r\n    try {\r\n      this.setState({ loading: true })\r\n      const { status, data: roles } = await getRoleList()\r\n      if (status !== 0) return\r\n      this.setState({ roles, loading: false })\r\n    } catch (error) {\r\n      message.error('角色列表获取失败')\r\n    }\r\n  }\r\n  // 控制状态\r\n  controlState = (attr, value) => this.setState({ [attr]: value })\r\n  render () {\r\n    const { controlState, getRoleList } = this\r\n    const { roles, loading, role, isShowAdd, isShowAuth } = this.state\r\n    // 卡片左上方\r\n    const title = (\r\n      <>\r\n        <Button type='primary' style={{ marginRight: 5 }} onClick={_ => controlState('isShowAdd', true)}>创建角色</Button>\r\n        <Button type='primary' disabled={!role._id} onClick={_ => controlState('isShowAuth', true)}>设置角色权限</Button>\r\n      </>\r\n    )\r\n    return (\r\n      <Card title={title}>\r\n        <Table\r\n          dataSource={roles}\r\n          rowKey='_id'\r\n          loading={loading}\r\n          bordered\r\n          pagination={{ defaultPageSize: PAGE_SIZE, showQuickJumper: true }}\r\n          rowSelection={{\r\n            type: 'radio',\r\n            selectedRowKeys: [role._id],\r\n            onSelect: role => this.setState({ role })\r\n          }}\r\n          onRow={role => ({\r\n            onClick: _ => this.setState({ role })\r\n          })}\r\n        >\r\n          <Column title=\"角色名称\" dataIndex=\"name\" />\r\n          <Column title=\"创建时间\" dataIndex=\"create_time\" render={formatDate} />\r\n          <Column title=\"授权时间\" dataIndex=\"auth_time\" render={formatDate} />\r\n          <Column title=\"授权人\" dataIndex=\"auth_name\" />\r\n        </Table>\r\n        <AddModal isShowAdd={isShowAdd} controlState={controlState} getRoleList={getRoleList} />\r\n        <AuthModal isShowAuth={isShowAuth} controlState={controlState} getRoleList={getRoleList} role={role} />\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Card, Button } from 'antd'\r\nimport ReactEcharts from 'echarts-for-react'\r\n\r\nexport default class Bar extends Component {\r\n  state = {\r\n    sales: [5, 20, 36, 10, 10, 20],\r\n    stores: [6, 10, 25, 20, 15, 10],\r\n    load: false\r\n  }\r\n  getOption = (sales, stores) => {\r\n    return {\r\n      title: {\r\n        text: 'ECharts 入门示例'\r\n      },\r\n      tooltip: {},\r\n      legend: {\r\n        data:['销量', '库存']\r\n      },\r\n      xAxis: {\r\n        data: ['衬衫', '羊毛衫', '雪纺衫', '裤子', '高跟鞋', '袜子']\r\n      },\r\n      yAxis: {},\r\n      series: [\r\n        { name: '销量', type: 'bar', data: sales },\r\n        { name: '库存', type: 'bar', data: stores }\r\n      ]\r\n    }\r\n  }\r\n  update = _ => this.setState(({ sales, stores }) => ({\r\n    sales: sales.map(item => item + 1),\r\n    stores: stores.map(item => item - 1)\r\n  }))\r\n  componentDidMount() {\r\n    this.setState({ load: true })\r\n  }\r\n  render() {\r\n    const { sales, stores, load } = this.state\r\n    const extra = <Button type=\"primary\" onClick={this.update}>更新</Button>\r\n    return (\r\n      <Card title='柱状图一' extra={extra}>\r\n        { load ? <ReactEcharts option={this.getOption(sales, stores)} /> : null }\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Card } from 'antd'\r\nimport ReactEcharts from 'echarts-for-react'\r\n\r\nexport default class Pie extends Component {\r\n  state = {\r\n    load: false\r\n  }\r\n  getOption = _ => {\r\n    return {\r\n      title: {\r\n        text: '某站点用户访问来源',\r\n        subtext: '纯属虚构',\r\n        x: 'center'\r\n      },\r\n      tooltip: {\r\n        trigger: 'item',\r\n        formatter: '{a} <br/>{b} : {c} ({d}%)'\r\n      },\r\n      legend: {\r\n        orient: 'vertical',\r\n        left: 'left',\r\n        data: ['直接访问', '邮件营销', '联盟广告', '视频广告', '搜索引擎']\r\n      },\r\n      series: [\r\n        {\r\n          name: '访问来源',\r\n          type: 'pie',\r\n          radius: '55%',\r\n          center: ['50%', '60%'],\r\n          data: [\r\n            { value: 335, name: '直接访问' },\r\n            { value: 310, name: '邮件营销' },\r\n            { value: 234, name: '联盟广告' },\r\n            { value: 135, name: '视频广告' },\r\n            { value: 1548, name: '搜索引擎' }\r\n          ],\r\n          itemStyle: {\r\n            emphasis: {\r\n              shadowBlur: 10,\r\n              shadowOffsetX: 0,\r\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n  getOption2 = _ => {\r\n    return {\r\n      backgroundColor: '#2c343c',\r\n      title: {\r\n        text: 'Customized Pie',\r\n        left: 'center',\r\n        top: 20,\r\n        textStyle: {\r\n          color: '#ccc'\r\n        }\r\n      },\r\n      tooltip: {\r\n        trigger: 'item',\r\n        formatter: '{a} <br/>{b} : {c} ({d}%)'\r\n      },\r\n      visualMap: {\r\n        show: false,\r\n        min: 80,\r\n        max: 600,\r\n        inRange: {\r\n          colorLightness: [0, 1]\r\n        }\r\n      },\r\n      series: [\r\n        {\r\n          name: '访问来源',\r\n          type: 'pie',\r\n          radius: '55%',\r\n          center: ['50%', '50%'],\r\n          data: [\r\n            { value: 335, name: '直接访问' },\r\n            { value: 310, name: '邮件营销' },\r\n            { value: 274, name: '联盟广告' },\r\n            { value: 235, name: '视频广告' },\r\n            { value: 400, name: '搜索引擎' }\r\n          ].sort((a, b) => a.value - b.value),\r\n          roseType: 'radius',\r\n          label: {\r\n            normal: {\r\n              textStyle: {\r\n                color: 'rgba(255, 255, 255, 0.3)'\r\n              }\r\n            }\r\n          },\r\n          labelLine: {\r\n            normal: {\r\n              lineStyle: {\r\n                color: 'rgba(255, 255, 255, 0.3)'\r\n              },\r\n              smooth: 0.2,\r\n              length: 10,\r\n              length2: 20\r\n            }\r\n          },\r\n          itemStyle: {\r\n            normal: {\r\n              color: '#c23531',\r\n              shadowBlur: 200,\r\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n          },\r\n\r\n          animationType: 'scale',\r\n          animationEasing: 'elasticOut',\r\n          animationDelay: _ => Math.random() * 200\r\n        }\r\n      ]\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ load: true })\r\n  }\r\n  render() {\r\n    const { load } = this.state\r\n    return (\r\n      <>\r\n        <Card title='饼图一'>\r\n          { load ? <ReactEcharts option={this.getOption()} style={{ height: 300 }} /> : null }\r\n        </Card>\r\n        <Card title='饼图二'>\r\n          { load ? <ReactEcharts option={this.getOption2()} style={{ height: 300 }} /> : null }\r\n        </Card>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Card, Button } from 'antd'\r\nimport ReactEcharts from 'echarts-for-react'\r\n\r\nexport default class Line extends Component {\r\n  state = {\r\n    sales: [5, 20, 36, 10, 10, 20],\r\n    stores: [6, 10, 25, 20, 15, 10],\r\n    load: false\r\n  }\r\n  getOption = (sales, stores) => {\r\n    return {\r\n      title: {\r\n        text: 'ECharts 入门示例'\r\n      },\r\n      tooltip: {},\r\n      legend: {\r\n        data:['销量', '库存']\r\n      },\r\n      xAxis: {\r\n        data: ['衬衫', '羊毛衫', '雪纺衫', '裤子', '高跟鞋', '袜子']\r\n      },\r\n      yAxis: {},\r\n      series: [\r\n        { name: '销量', type: 'line', data: sales },\r\n        { name: '库存', type: 'line', data: stores }\r\n      ]\r\n    }\r\n  }\r\n  update = _ => this.setState(({ sales, stores }) => ({\r\n    sales: sales.map(item => item + 1),\r\n    stores: stores.map(item => item - 1)\r\n  }))\r\n  componentDidMount() {\r\n    this.setState({ load: true })\r\n  }\r\n  render() {\r\n    const { sales, stores, load } = this.state\r\n    const extra = <Button type=\"primary\" onClick={this.update}>更新</Button>\r\n    return (\r\n      <Card title='柱状图一' extra={extra}>\r\n        { load ? <ReactEcharts option={this.getOption(sales, stores)} /> : null }\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Order extends Component {\r\n  render () {\r\n    return <h1>Order</h1>\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Button, Row, Col } from 'antd'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { setHeadTitle } from '@redux/actions'\r\nimport './less/not-found.less'\r\n\r\nclass NotFound extends Component {\r\n  goHome = _ => {\r\n    const { history, setHeadTitle } = this.props\r\n    setHeadTitle('首页')\r\n    history.replace('/home')\r\n  }\r\n  componentDidMount() {\r\n    this.props.setHeadTitle('')\r\n  }\r\n  render() {\r\n    return (\r\n      <Row className='not-found'>\r\n        <Col span={12} className='left' />\r\n        <Col span={12} className='right'>\r\n          <h1>404</h1>\r\n          <h2>抱歉，你访问的页面不存在</h2>\r\n          <div>\r\n            <Button type='primary' onClick={this.goHome}>\r\n              回到首页\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { setHeadTitle }\r\n)(NotFound)\r\n","import React, { Component } from 'react'\r\nimport { Redirect, Switch, Route } from 'react-router-dom'\r\nimport { Layout } from 'antd'\r\nimport { connect } from 'react-redux'\r\n\r\nimport './less/admin.less'\r\n\r\nimport LeftNav from '@components/LeftNav'\r\nimport Header from '@components/Header'\r\nimport Home from '../Home'\r\nimport Category from '../Goods/Category'\r\nimport Product from '../Goods/Product'\r\nimport User from '../User'\r\nimport Role from '../Role'\r\nimport Bar from '../Charts/Bar'\r\nimport Pie from '../Charts/Pie'\r\nimport Line from '../Charts/Line'\r\nimport Order from '../Order'\r\nimport NotFound from '../NotFound'\r\n\r\nconst { Footer, Sider, Content } = Layout\r\n\r\nclass Admin extends Component {\r\n  render () {\r\n    const { user } = this.props\r\n    // 如果用户未登录，直接重定向登录页\r\n    if (!user || !user._id) return <Redirect to='login' />\r\n    return (\r\n      <Layout className='admin'>\r\n        <Sider>\r\n          <LeftNav />\r\n        </Sider>\r\n        <Layout>\r\n          <Header />\r\n          <Content className='admin-content'>\r\n            <Switch>\r\n              <Redirect exact from='/' to='/home' />\r\n              <Route path='/home' component={Home} />\r\n              <Route path='/goods/category' component={Category} />\r\n              <Route path='/goods/product' component={Product} />\r\n              <Route path='/user' component={User} />\r\n              <Route path='/role' component={Role} />\r\n              <Route path='/charts/bar' component={Bar} />\r\n              <Route path='/charts/pie' component={Pie} />\r\n              <Route path='/charts/line' component={Line} />\r\n              <Route path='/order' component={Order} />\r\n              <Route component={NotFound} />\r\n            </Switch>\r\n          </Content>\r\n          <Footer className='admin-footer'>\r\n            推荐使用谷歌浏览器，可以获得更佳页面操作体验\r\n          </Footer>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({ user: state.user }),\r\n  {}\r\n)(Admin)\r\n","import React, { Component } from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\n\r\nimport Login from './pages/Login'\r\nimport Admin from './pages/Admin'\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/login\" component={ Login } />\r\n          <Route path=\"/\" component={ Admin } />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    )\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport { SET_HEAD_TITLE, RECEIVE_USER, SHOW_ERROR_MSG, RESET_USER } from './action-types'\r\nimport { getUser } from '@utils/localStorage'\r\n\r\n// 管理头部标题\r\nconst initHeadTitle = ''\r\n\r\nfunction headTitle(state = initHeadTitle, action) {\r\n  switch (action.type) {\r\n    case SET_HEAD_TITLE:\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// 管理登录用户\r\nconst initUser = getUser()\r\n\r\nfunction user(state = initUser, action) {\r\n  switch (action.type) {\r\n    case RECEIVE_USER:\r\n      return action.user\r\n    case SHOW_ERROR_MSG:\r\n      const { errorMsg } = action\r\n      return { ...state, errorMsg }\r\n    case RESET_USER:\r\n      return {}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default combineReducers({\r\n  headTitle,\r\n  user\r\n})\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport reducer from './reducer'\r\n\r\nexport default createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport App from './App'\r\n\r\nimport store from '@redux/store'\r\n\r\nReactDOM.render((\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n), document.getElementById('root'))\r\n"],"sourceRoot":""}